{"openapi":"3.0.1","info":{"title":"Parodos Workflow Service API","description":"This is the API documentation for the Parodos Workflow Service. It provides operations to execute assessments to determine infrastructure options (tooling + environments). Also executes infrastructure task workflows to call downstream systems to stand-up an infrastructure option.","version":"v1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Workflow","description":"Operations about workflow"},{"name":"Project","description":"Operations about project"},{"name":"Workflow Definition","description":"Operations about workflow definition"}],"paths":{"/api/v1/workflows":{"post":{"tags":["Workflow"],"summary":"Executes a workflow","operationId":"execute","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkFlowRequestDTO"}}},"required":true},"responses":{"401":{"description":"Unauthorized"},"200":{"description":"Succeeded","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkFlowResponseDTO"}}}},"403":{"description":"Forbidden"}}}},"/api/v1/workflows/{workFlowExecutionId}/checkers/{workFlowCheckerTaskName}":{"post":{"tags":["Workflow"],"summary":"Updates a workflow checker task status","operationId":"updateWorkFlowCheckerTaskStatus","parameters":[{"name":"workFlowExecutionId","in":"path","required":true,"schema":{"type":"string"}},{"name":"workFlowCheckerTaskName","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkFlowCheckerTaskRequestDTO"}}},"required":true},"responses":{"200":{"description":"Succeeded","content":{"application/json":{"schema":{"type":"string"}}}},"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/api/v1/projects":{"get":{"tags":["Project"],"summary":"Returns a list of project","operationId":"getProjects","responses":{"401":{"description":"Unauthorized"},"200":{"description":"Succeeded","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectResponseDTO"}}}}},"403":{"description":"Forbidden"}}},"post":{"tags":["Project"],"summary":"Creates a new project","operationId":"createProject","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectRequestDTO"}}},"required":true},"responses":{"401":{"description":"Unauthorized"},"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponseDTO"}}}}}}},"/api/v1/workflows/{workFlowExecutionId}/status":{"get":{"tags":["Workflow"],"summary":"Returns a workflow status","operationId":"getStatus","parameters":[{"name":"workFlowExecutionId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Unauthorized"},"200":{"description":"Succeeded","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkFlowStatusResponseDTO"}}}},"403":{"description":"Forbidden"}}}},"/api/v1/workflowdefinitions":{"get":{"tags":["Workflow Definition"],"summary":"Returns a list of workflow definition","operationId":"getWorkFlowDefinitions","parameters":[{"name":"name","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"401":{"description":"Unauthorized"},"200":{"description":"Succeeded","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkFlowDefinitionResponseDTO"}}}}},"403":{"description":"Forbidden"}}}},"/api/v1/workflowdefinitions/{id}":{"get":{"tags":["Workflow Definition"],"summary":"Returns information about a workflow definition by id","operationId":"getWorkFlowDefinitionById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"200":{"description":"Succeeded","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkFlowDefinitionResponseDTO"}}}}}}},"/api/v1/projects/{id}":{"get":{"tags":["Project"],"summary":"Returns information about a specified project","operationId":"getProjectById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not found"},"401":{"description":"Unauthorized"},"200":{"description":"Succeeded","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponseDTO"}}}}}}}},"components":{"schemas":{"ArgumentRequestDTO":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"}}},"WorkFlowRequestDTO":{"type":"object","properties":{"projectId":{"type":"string"},"workFlowName":{"type":"string"},"arguments":{"type":"array","items":{"$ref":"#/components/schemas/ArgumentRequestDTO"}},"works":{"type":"array","items":{"$ref":"#/components/schemas/WorkRequestDTO"}}}},"WorkRequestDTO":{"type":"object","properties":{"workName":{"type":"string"},"arguments":{"type":"array","items":{"$ref":"#/components/schemas/ArgumentRequestDTO"}},"type":{"type":"string"}}},"WorkFlowOption":{"type":"object","properties":{"identifier":{"type":"string"},"displayName":{"type":"string"},"description":{"type":"string"},"details":{"type":"array","items":{"type":"string"}},"workFlowName":{"type":"string"}}},"WorkFlowOptions":{"type":"object","properties":{"currentVersion":{"$ref":"#/components/schemas/WorkFlowOption"},"upgradeOptions":{"type":"array","items":{"$ref":"#/components/schemas/WorkFlowOption"}},"migrationOptions":{"type":"array","items":{"$ref":"#/components/schemas/WorkFlowOption"}},"newOptions":{"type":"array","items":{"$ref":"#/components/schemas/WorkFlowOption"}},"continuationOptions":{"type":"array","items":{"$ref":"#/components/schemas/WorkFlowOption"}},"otherOptions":{"type":"array","items":{"$ref":"#/components/schemas/WorkFlowOption"}},"optionsAvailable":{"type":"boolean"}}},"WorkFlowResponseDTO":{"type":"object","properties":{"workFlowExecutionId":{"type":"string"},"workFlowOptions":{"$ref":"#/components/schemas/WorkFlowOptions"},"workStatus":{"type":"string","enum":["FAILED","COMPLETED"]}}},"WorkFlowCheckerTaskRequestDTO":{"type":"object","properties":{"status":{"type":"string","enum":["FAILED","COMPLETED","IN_PROGRESS"]}}},"ProjectRequestDTO":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"ProjectResponseDTO":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"createDate":{"type":"string","format":"date-time"},"modifyDate":{"type":"string","format":"date-time"},"username":{"type":"string"}}},"WorkFlowStatusResponseDTO":{"type":"object","properties":{"workFlowExecutionId":{"type":"string"},"workFlowName":{"type":"string"},"status":{"type":"string"},"works":{"type":"array","items":{"$ref":"#/components/schemas/WorkStatusResponseDTO"}}}},"WorkStatusResponseDTO":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["TASK","WORKFLOW"]},"status":{"type":"string","enum":["FAILED","COMPLETED","PENDING"]},"works":{"type":"array","items":{"$ref":"#/components/schemas/WorkStatusResponseDTO"}}}},"WorkDefinitionResponseDTO":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"workType":{"type":"string"},"processingType":{"type":"string"},"author":{"type":"string"},"works":{"type":"array","items":{"$ref":"#/components/schemas/WorkDefinitionResponseDTO"}},"parameters":{"type":"array","items":{"type":"object"}},"outputs":{"type":"array","items":{"type":"string","enum":["EXCEPTION","HTTP2XX","NO_EXCEPTION","OTHER"]}}}},"WorkFlowDefinitionResponseDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"type":{"type":"string"},"processingType":{"type":"string"},"author":{"type":"string"},"createDate":{"type":"string","format":"date-time"},"modifyDate":{"type":"string","format":"date-time"},"parameters":{"type":"array","items":{"$ref":"#/components/schemas/WorkFlowTaskParameter"}},"works":{"type":"array","items":{"$ref":"#/components/schemas/WorkDefinitionResponseDTO"}}}},"WorkFlowTaskParameter":{"type":"object","properties":{"key":{"type":"string"},"description":{"type":"string"},"optional":{"type":"boolean"},"type":{"type":"string","enum":["PASSWORD","TEXT","EMAIL","DATE","NUMBER","URL"]}}}}}}